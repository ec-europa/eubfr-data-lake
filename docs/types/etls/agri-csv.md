<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## AgriCsvTransform

Map fields for AGRI producer, CSV file types

Example input data: [stub][1]

Transform function: [implementation details][2]

### Parameters

- `record` **[Object][3]** Piece of data to transform before going to harmonized storage.

Returns **Project** JSON matching the type fields.

### getFundingArea

Preprocess values for `funding_area` used in `budget`.

#### Parameters

- `record` **[Object][3]** The row received from parsed file

#### Examples

```javascript
input => 'Research & innovation; Investment for growth; Transport';
output => ['Research & innovation', 'Investment for growth', 'Transport'];
```

Returns **[Array][4]**

### getBudget

Preprocess `budget` field.

Input fields taken from the `record` are:

- `Total project budget`
- `EU Budget contribution`
- `EU Budget MFF heading`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **Budget**

### getDescription

Preprocess `description` field.

Input fields taken from the `record` are:

- `Project description`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getPriorities

Preprocess `ec_priorities` field.

Input fields taken from the `record` are:

- `ECâ€™s priorities`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getMedia

Preprocess `media` field.

Input fields taken from the `record` are:

- `Visual`
- `Link to a video`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[Array][4]&lt;Media>**

### getProgramme

Preprocess `programme_name` field.

Input fields taken from the `record` are:

- `Programme name`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getId

Preprocess `project_id` field.

Input fields taken from the `record` are:

- `Nid`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getLocations

Preprocess `project_locations` field.

Input fields taken from the `record` are:

- `Project location longitude`
- `Project location latitude`
- `Project country(ies)`
- `Project address(es)`
- `Project postal code(s)`
- `Project town(s)`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[Array][4]&lt;[Location][6]>**

### getWebsite

Preprocess `project_website` field.

Input fields taken from the `record` are:

- `Project webpage`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getRelatedLinks

Preprocess `related_links` field.

Input fields taken from the `record` are:

- `Related links`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

#### Examples

```javascript
input => "<a href=\"https://ec.europa.eu/inea/en/ten-t/ten-t-projects/projects-by-country/multi-country/2013-eu-92069-s\">INEA</a>;<a href=\"https://europa.eu/investeu/projects/central-european-green-corridors_en\">InvestEU</a>"
output => [
   { label: "INEA", url: "https://ec.europa.eu/inea/en/ten-t/ten-t-projects/projects-by-country/multi-country/2013-eu-92069-s" }
   { label: "InvestEU", url: "https://europa.eu/investeu/projects/central-european-green-corridors_en" }
 ]
```

Returns **[Array][4]** List of {RelatedLink}

### getReportingOrganisation

Preprocess `reporting_organisation` field.

Input fields taken from the `record` are:

- `Author`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

### getResults

Preprocess `results` field.

Input fields taken from the `record` are:

- `Results`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **Result**

### getCoordinators

Preprocess coordinators for `third_parties` field.

Input fields taken from the `record` are:

- `Coordinators`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[Array][4]&lt;Coordinator>**

### getPartners

Preprocess partners for `third_parties` field.

Input fields taken from the `record` are:

- `Partners`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[Array][4]&lt;Partner>**

### getThirdParties

Preprocess `third_parties` field.

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[Array][4]&lt;ThirdParty>**

### formatDate

Formats date.

#### Parameters

- `date` **[Date][7]** Date in timestamp

#### Examples

```javascript
input => '1388530800';
output => '2013-12-31T23:00:00.000Z';
```

Returns **[Date][7]** The date formatted into an ISO 8601 date format

### getTimeframe

Preprocess `timeframe` field.

Input fields taken from the `record` are:

- `Timeframe start`
- `Timeframe end`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **Timeframe**

### getTitle

Preprocess `title` field.

Input fields taken from the `record` are:

- `Name`

#### Parameters

- `record` **[Object][3]** The row received from parsed file

Returns **[String][5]**

[1]: https://github.com/ec-europa/eubfr-data-lake/blob/master/services/ingestion/etl/agri/csv/test/stubs/record.json
[2]: https://github.com/ec-europa/eubfr-data-lake/blob/master/services/ingestion/etl/agri/csv/src/lib/transform.js
[3]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object
[4]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array
[5]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String
[6]: https://developer.mozilla.org/docs/Web/API/Location
[7]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

## Wifi4EuXlsTransform

Map fields for WIFI4EU producer, XLS and XLSX file types

Example input data: [stub](https://github.com/ec-europa/eubfr-data-lake/blob/master/services/ingestion/etl/wifi4eu/xls/test/stubs/record.json)

Transform function: [implementation details](https://github.com/ec-europa/eubfr-data-lake/blob/master/services/ingestion/etl/wifi4eu/xls/src/lib/transform.js)

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Piece of data to transform before going to harmonized storage.

Returns **Project** JSON matching the type fields.

### getBudget

Preprocess budget field. For the moment, we don't have this data.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **Budget** 

### getCallYear

Preprocess `call_year` field. Data comes from `record['Call year']`.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### getProjectDescription

Preprocess `description` field. Data comes from `record['Project Description']`.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### getBeneficieries

Preprocess `partners` field.

Data comes from the following source fields:

-   `municipality name`

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### getProjectId

Generates values for `project_id` field since source data misses these.
It's needed for having separate projects in the Elasticsearch database.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### getLocations

Preprocess `project_locations` field.
Depends on:

-   `getCountryCode`

Data comes from the following source fields:

-   `address`
-   `country`
-   `postal code`
-   `municipality name`

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;[Location](https://developer.mozilla.org/docs/Web/API/Location)>** 

### getProjectWebsite

Preprocess `project_website` field. Data comes from `record.link`.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### formatDate

Format date

**Parameters**

-   `date` **[Date](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date)** Date in "10/9/14" (MM/DD/YY) or "10/9/2014" (MM/DD/YYYY) format

**Examples**

```javascript
input => "10/9/2014"
output => "2014-10-09T00:00:00.000Z"
```

Returns **[Date](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date)** The date formatted into an ISO 8601 date format

### getProjectTimeframe

Preprocess `timeframe` field. Data comes from `record['Date from']`.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **Timeframe** 

### getProjectTitle

Preprocess `title` field. Data comes from `record['Project Title']`.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** 

### getCountryCode

Retrieve a country code based on non-standartized input values.

**Parameters**

-   `country` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** Country in the form of 'БЪЛГАРИЯ (BULGARIA)', 'ΕΛΛΑΔΑ (ELLADA)' and similar.

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** ISO ALPHA-2 code  used by i18n-iso-countries in the enrichment manager.

### getAddress

Returns an address of the form of street + street number

For address/street number, ignores the following:

-   trashStrings: na, snc, S/n, dots, dashes, and other custom means to say data is not available
-   phone numbers,: items with more than 8 digits, in any syntax
-   string-only values: Pi, NR, etc.

**Parameters**

-   `record` **[Object](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object)** The row received from parsed file

Returns **[String](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)** The address
